#!/bin/bash

function usage() {
    cat<<EOF
    $0
EOF
}

API_KEY=$(vault read -field=x-api-key secret/sweetiq/directory-service/apigee/dev-team)
QUERY=$@

if [[ -z "${API_KEY}" ]]
then
    echo "Could not get API_KEY"
    exit 1
fi

BODY=$(cat <<EOF
{
}
EOF
)

curl -X GET \
  https://apis-development.sweetiq.com/directory-service/ping \
  -H "routeTo: development" \
  -H "x-api-key: ${API_KEY}" \
  -d "${BODY}"
